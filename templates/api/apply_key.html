{% extends "accounts/_section.html" %}


{% block title %}{{user.username}} - api keys{% endblock %}

{% block section_content %}
    <h1>Your api keys</h1>
    
    <h3>Apply for a new key</h3>
    
    <form action="" method="post" enctype="multipart/form-data">
    
        {% csrf_token %}
        <table>
            {{ form.as_table }}
        </table>
        <input type="submit" name="submit" value="Request API key" id="submit">
    </form>
    
    <h3>Your existing keys</h3>
    
    <table>
    <tr><th>Api key</th><th>Consumer key*</th><th>Consumer secret*</th><th>Application</th><th>Status</th><th>Description</th></tr>
    {% for key in user.api_keys.all %}
        <tr><td>{{ key.key }}</td><td>{{ key.consumer.key }}</td><td>{{ key.consumer.secret }}</td><td>{{ key.name }}</td><td>{{ key.status }}</td><td>{{ key.description }}</td></tr>
    {% endfor %}
    </table>
    <p class="small">* 'Consumer key' and 'Consumer secret' are only needed for special API requests using three-legged authorization. For most of API calls you'll only need 'Api Key'.</p>
{% endblock %}